import{a6 as Le,S as Ge,i as Fe,s as He,e as b,J as X,k as B,t as P,c as v,a as h,K as Z,d as u,m as I,h as z,b as s,g as Q,F as n,X as qe,G as D,j as Re,H as Ce,Z as Xe,P as Ze,_ as Qe,w as We,x as Ye,y as $e,$ as et,q as Je,M as tt,o as Ke,N as Pe,B as st,a0 as at,p as nt,v as lt,a1 as rt,a2 as it,a7 as ze,n as ot,a3 as dt}from"../chunks/vendor-1ec5dcfe.js";const ct=Le(Date.now(),function(l){const r=setInterval(()=>l(Date.now()),1e3);return function(){clearInterval(r)}});function ut(t){let l,r,i,d,m,c,f,g=Ae(t[1])+"",E,M,p,o,T,e,a,w,U,y,W,Y,O,q,se,A,ae,ne,S,le,re,x,ie,oe,G,de,ce,F,ue,fe,J,j,V,K,L,$,he,H,C,R,ee,_e,be;return{c(){l=b("div"),r=b("div"),i=b("span"),d=X("svg"),m=X("path"),c=B(),f=b("div"),E=P(g),M=B(),p=b("div"),o=b("input"),T=B(),e=b("div"),a=b("button"),w=P("0"),U=B(),y=b("button"),W=P("+1h"),Y=B(),O=b("button"),q=P("+10m"),se=B(),A=b("button"),ae=P("+5m"),ne=B(),S=b("button"),le=P("+1m"),re=B(),x=b("button"),ie=P("+10s"),oe=B(),G=b("button"),de=P("+5s"),ce=B(),F=b("button"),ue=P("+1s"),fe=B(),J=b("div"),j=b("button"),V=X("svg"),K=X("path"),L=X("path"),he=B(),H=b("button"),C=X("svg"),R=X("path"),this.h()},l(k){l=v(k,"DIV",{class:!0});var _=h(l);r=v(_,"DIV",{class:!0});var ve=h(r);i=v(ve,"SPAN",{});var ge=h(i);d=Z(ge,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var ke=h(d);m=Z(ke,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(m).forEach(u),ke.forEach(u),ge.forEach(u),ve.forEach(u),c=I(_),f=v(_,"DIV",{class:!0});var we=h(f);E=z(we,g),we.forEach(u),M=I(_),p=v(_,"DIV",{class:!0});var Te=h(p);o=v(Te,"INPUT",{type:!0,placeholder:!0,class:!0}),Te.forEach(u),T=I(_),e=v(_,"DIV",{class:!0});var N=h(e);a=v(N,"BUTTON",{class:!0});var ye=h(a);w=z(ye,"0"),ye.forEach(u),U=I(N),y=v(N,"BUTTON",{class:!0});var Ee=h(y);W=z(Ee,"+1h"),Ee.forEach(u),Y=I(N),O=v(N,"BUTTON",{class:!0});var Ne=h(O);q=z(Ne,"+10m"),Ne.forEach(u),se=I(N),A=v(N,"BUTTON",{class:!0});var Be=h(A);ae=z(Be,"+5m"),Be.forEach(u),ne=I(N),S=v(N,"BUTTON",{class:!0});var Ie=h(S);le=z(Ie,"+1m"),Ie.forEach(u),re=I(N),x=v(N,"BUTTON",{class:!0});var Me=h(x);ie=z(Me,"+10s"),Me.forEach(u),oe=I(N),G=v(N,"BUTTON",{class:!0});var De=h(G);de=z(De,"+5s"),De.forEach(u),ce=I(N),F=v(N,"BUTTON",{class:!0});var Ue=h(F);ue=z(Ue,"+1s"),Ue.forEach(u),N.forEach(u),fe=I(_),J=v(_,"DIV",{class:!0});var te=h(J);j=v(te,"BUTTON",{class:!0});var Oe=h(j);V=Z(Oe,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var me=h(V);K=Z(me,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(K).forEach(u),L=Z(me,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(L).forEach(u),me.forEach(u),Oe.forEach(u),he=I(te),H=v(te,"BUTTON",{class:!0});var je=h(H);C=Z(je,"svg",{class:!0,fill:!0,stroke:!0,viewBox:!0,xmlns:!0});var Ve=h(C);R=Z(Ve,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(R).forEach(u),Ve.forEach(u),je.forEach(u),te.forEach(u),_.forEach(u),this.h()},h(){s(m,"stroke-linecap","round"),s(m,"stroke-linejoin","round"),s(m,"stroke-width","2"),s(m,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),s(d,"class","w-6 h-6"),s(d,"fill","none"),s(d,"stroke","currentColor"),s(d,"viewBox","0 0 24 24"),s(d,"xmlns","http://www.w3.org/2000/svg"),s(r,"class","self-end text-slate-400 hover:text-slate-600 hover:cursor-pointer"),s(f,"class","text-4xl"),o.disabled=t[2],s(o,"type","text"),s(o,"placeholder","Message"),s(o,"class","bg-gray-100 text-gray-800 px-2 py-y rounded-t-md border-0 border-b-2 border-gray-600 focus:border-sky-600 focus:ring-0 disabled:opacity-40"),s(p,"class",""),s(a,"class","text-white bg-red-600 disabled:opacity-40"),a.disabled=t[2],s(y,"class","text-white bg-sky-600 disabled:opacity-40"),y.disabled=t[2],s(O,"class","text-white bg-sky-600 disabled:opacity-40"),O.disabled=t[2],s(A,"class","text-white bg-sky-600 disabled:opacity-40"),A.disabled=t[2],s(S,"class","text-white bg-sky-600 disabled:opacity-40"),S.disabled=t[2],s(x,"class","text-white bg-sky-600 disabled:opacity-40"),x.disabled=t[2],s(G,"class","text-white bg-sky-600 disabled:opacity-40"),G.disabled=t[2],s(F,"class","text-white bg-sky-600 disabled:opacity-40"),F.disabled=t[2],s(e,"class","flex flex-row space-x-1"),s(K,"stroke-linecap","round"),s(K,"stroke-linejoin","round"),s(K,"stroke-width","2"),s(K,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),s(L,"stroke-linecap","round"),s(L,"stroke-linejoin","round"),s(L,"stroke-width","2"),s(L,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),s(V,"class","w-6 h-6"),s(V,"fill","none"),s(V,"stroke","currentColor"),s(V,"viewBox","0 0 24 24"),s(V,"xmlns","http://www.w3.org/2000/svg"),j.hidden=t[2],s(j,"class","text-white bg-slate-600 rounded-full w-12 h-12 text-center disabled:opacity-40"),j.disabled=$=t[1]===0,s(R,"stroke-linecap","round"),s(R,"stroke-linejoin","round"),s(R,"stroke-width","2"),s(R,"d","M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"),s(C,"class","w-6 h-6"),s(C,"fill","none"),s(C,"stroke","currentColor"),s(C,"viewBox","0 0 24 24"),s(C,"xmlns","http://www.w3.org/2000/svg"),H.hidden=ee=!t[2],s(H,"class","text-white bg-slate-600 rounded-full w-12 h-12 text-center"),s(J,"class","flex flex-col items-center justify-center"),s(l,"class","flex flex-col items-center shadow-lg p-8 space-y-4")},m(k,_){Q(k,l,_),n(l,r),n(r,i),n(i,d),n(d,m),n(l,c),n(l,f),n(f,E),n(l,M),n(l,p),n(p,o),qe(o,t[0]),n(l,T),n(l,e),n(e,a),n(a,w),n(e,U),n(e,y),n(y,W),n(e,Y),n(e,O),n(O,q),n(e,se),n(e,A),n(A,ae),n(e,ne),n(e,S),n(S,le),n(e,re),n(e,x),n(x,ie),n(e,oe),n(e,G),n(G,de),n(e,ce),n(e,F),n(F,ue),n(l,fe),n(l,J),n(J,j),n(j,V),n(V,K),n(V,L),n(J,he),n(J,H),n(H,C),n(C,R),_e||(be=[D(i,"click",t[7]),D(o,"input",t[10]),D(a,"click",t[6]),D(y,"click",t[11]),D(O,"click",t[12]),D(A,"click",t[13]),D(S,"click",t[14]),D(x,"click",t[15]),D(G,"click",t[16]),D(F,"click",t[17]),D(j,"click",t[3]),D(H,"click",t[4])],_e=!0)},p(k,[_]){_&2&&g!==(g=Ae(k[1])+"")&&Re(E,g),_&4&&(o.disabled=k[2]),_&1&&o.value!==k[0]&&qe(o,k[0]),_&4&&(a.disabled=k[2]),_&4&&(y.disabled=k[2]),_&4&&(O.disabled=k[2]),_&4&&(A.disabled=k[2]),_&4&&(S.disabled=k[2]),_&4&&(x.disabled=k[2]),_&4&&(G.disabled=k[2]),_&4&&(F.disabled=k[2]),_&4&&(j.hidden=k[2]),_&2&&$!==($=k[1]===0)&&(j.disabled=$),_&4&&ee!==(ee=!k[2])&&(H.hidden=ee)},i:Ce,o:Ce,d(k){k&&u(l),_e=!1,Xe(be)}}}function pe(t){return t<10?"0"+t:""+t}function Ae(t){t=Math.floor(t/1e3);const l=Math.floor(t%60);t=Math.floor(t/60);const r=Math.floor(t%60);return t=Math.floor(t/60),`${pe(t)}:${pe(r)}:${pe(l)}`}function ft(t,l,r){let i;Ze(t,ct,q=>r(9,i=q));const d=Qe();let{message:m=void 0}=l,c=0,f=0,g=!1;function E(){g||c!==0&&(r(8,f=Date.now()+c),r(2,g=!0),d("timer-started"))}function M(){!g||(r(2,g=!1),d("timer-stopped"))}function p(q){r(1,c+=q)}function o(){M(),r(1,c=0)}function T(){d("timer-deleted")}function e(){m=this.value,r(0,m)}const a=()=>p(36e5),w=()=>p(6e5),U=()=>p(3e5),y=()=>p(6e4),W=()=>p(1e4),Y=()=>p(5e3),O=()=>p(1e3);return t.$$set=q=>{"message"in q&&r(0,m=q.message)},t.$$.update=()=>{t.$$.dirty&774&&g&&c>0&&(r(1,c=Math.max(0,f-i)),c===0&&(r(2,g=!1),d("timer-elapsed")))},[m,c,g,E,M,p,o,T,f,i,e,a,w,U,y,W,Y,O]}class ht extends Ge{constructor(l){super();Fe(this,l,ft,ut,He,{message:0})}}function Se(t,l,r){const i=t.slice();return i[11]=l[r],i[12]=l,i[13]=r,i}function xe(t,l){let r,i,d,m,c,f;function g(o){l[4](o,l[11])}function E(){return l[5](l[11])}function M(){return l[6](l[11])}let p={};return l[11].message!==void 0&&(p.message=l[11].message),i=new ht({props:p}),rt.push(()=>it(i,"message",g)),i.$on("timer-elapsed",E),i.$on("timer-deleted",M),{key:t,first:null,c(){r=b("div"),We(i.$$.fragment),m=B(),this.h()},l(o){r=v(o,"DIV",{});var T=h(r);Ye(i.$$.fragment,T),m=I(T),T.forEach(u),this.h()},h(){this.first=r},m(o,T){Q(o,r,T),$e(i,r,null),n(r,m),f=!0},p(o,T){l=o;const e={};!d&&T&1&&(d=!0,e.message=l[11].message,et(()=>d=!1)),i.$set(e)},i(o){f||(Je(i.$$.fragment,o),tt(()=>{c||(c=Pe(r,ze,{},!0)),c.run(1)}),f=!0)},o(o){Ke(i.$$.fragment,o),c||(c=Pe(r,ze,{},!1)),c.run(0),f=!1},d(o){o&&u(r),st(i),o&&c&&c.end()}}}function _t(t){let l,r,i,d,m,c,f=[],g=new Map,E,M,p,o=t[0];const T=e=>e[11].id;for(let e=0;e<o.length;e+=1){let a=Se(t,o,e),w=T(a);g.set(w,f[e]=xe(w,a))}return{c(){l=b("div"),r=b("button"),i=P("add timer"),d=B(),m=B(),c=b("div");for(let e=0;e<f.length;e+=1)f[e].c();this.h()},l(e){l=v(e,"DIV",{});var a=h(l);r=v(a,"BUTTON",{class:!0});var w=h(r);i=z(w,"add timer"),w.forEach(u),a.forEach(u),d=I(e),m=I(e),c=v(e,"DIV",{class:!0});var U=h(c);for(let y=0;y<f.length;y+=1)f[y].l(U);U.forEach(u),this.h()},h(){s(r,"class","mb-2 bg-sky-600 text-white"),s(c,"class","flex flex-col space-y-2")},m(e,a){Q(e,l,a),n(l,r),n(r,i),Q(e,d,a),Q(e,m,a),Q(e,c,a);for(let w=0;w<f.length;w+=1)f[w].m(c,null);E=!0,M||(p=D(r,"click",t[1]),M=!0)},p(e,[a]){a&13&&(o=e[0],ot(),f=at(f,a,T,1,e,o,g,c,dt,xe,null,Se),nt())},i(e){if(!E){for(let a=0;a<o.length;a+=1)Je(f[a]);E=!0}},o(e){for(let a=0;a<f.length;a+=1)Ke(f[a]);E=!1},d(e){e&&u(l),e&&u(d),e&&u(m),e&&u(c);for(let a=0;a<f.length;a+=1)f[a].d();M=!1,p()}}}const bt=()=>({stuff:{pageTitle:"Timers"}});function mt(t,l,r){let i=1,d=[{id:i++}];function m(){r(0,d=[...d,{id:i++}])}let c=!1,f=!1;function g(e){const a=d.findIndex(w=>w.id===e);a<0||r(0,d=[...d.slice(0,a),...d.slice(a+1)])}async function E(e){var U;const a=d.find(y=>y.id===e),w=(U=a==null?void 0:a.message)!=null?U:"Timer elapsed";if(!c){alert(w);return}!f||new Notification("Timer elapsed",{badge:"/favicon.png",image:"/favicon.png",body:w,requireInteraction:!0,vibrate:[200,100,200]})}async function M(){if(c=window.Notification!==void 0,c){let e=Notification.permission;e==="default"&&(e=await Notification.requestPermission()),f=e==="granted"}}lt(M);function p(e,a){t.$$.not_equal(a.message,e)&&(a.message=e,r(0,d))}return[d,m,g,E,p,e=>E(e.id),e=>g(e.id)]}class vt extends Ge{constructor(l){super();Fe(this,l,mt,_t,He,{})}}export{vt as default,bt as load};
